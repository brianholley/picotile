<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Picotile</title>

  <link rel="stylesheet" href="css/bootstrap.min.css">

  <link rel="stylesheet" href="css/styles.css">
</head>

<body>

  <nav class="nav nav-pills">
    <a class="navbar-brand">Picotile</a>
    <a class="nav-link active" aria-current="page" href="/">Live</a>
    <a class="nav-link" href="settings.html">Settings</a>
  </nav>

  <canvas id='tiletest' width='300' height='300'></canvas>
  
  <script src="js/jquery-3.5.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  
  <script>
    let tiletest = $('#tiletest')[0]
    let rc = tiletest.getBoundingClientRect()
    console.log(`${window.innerWidth}x${window.innerHeight}`)
    console.log(`${rc.left},${rc.top}`)
    tiletest.width = window.innerWidth - rc.left
    tiletest.height = window.innerHeight - rc.top

    // TODO: refactor, change on resize
  </script>

  <script src="js/tile.js"></script>
  <script>
    let tiles = [
      {type: 'control', pos: {x: 4, y: 5, z: 1}}, 
      {type: 'light', index: 0, pos: {x: 4, y: 4, z: 0}, color: '#b0b'},
      {type: 'light', index: 0, pos: {x: 3, y: 4, z: 1}, color: '#4B0082'},
      {type: 'light', index: 0, pos: {x: 3, y: 3, z: 0}, color: '#00c'},
      {type: 'light', index: 0, pos: {x: 3, y: 3, z: 1}, color: '#0d0'},
      {type: 'light', index: 0, pos: {x: 3, y: 2, z: 0}, color: '#dd0'},
      {type: 'light', index: 0, pos: {x: 2, y: 2, z: 1}, color: '#d70'},
      {type: 'light', index: 0, pos: {x: 2, y: 2, z: 0}, color: '#c00'},
    ]

    renderTileField($('#tiletest')[0], tiles)
  </script>

</body>

</html>
